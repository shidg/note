#使用相同的参数编译安装新版本的nginx，安装位置与旧版本nginx相同，直接覆盖旧版本的执行文件，覆盖之前建议备份旧版本的nginx，以便升级失败后快速恢复.


#查看旧版本nginx的主进程PID,查看结果为8685


#发送以下指令，平滑升级Nginx可执行程序
#这条命令的作用是：旧版本的nginx主进程将重命名它的.pid文件为.oldbin，然后执行新版本的nginx可执行程序，依次启动新的主进程和新的工作进程。此时新旧版本的nginx会同时运行，共同处理请求。
kill  -USR2  8685



#发送WINCH信号给旧的主进程，通知旧版本的nginx工作进程从容关闭。一段时间后，旧的工作进程（worker process）处理了所有已连接的请求后退出，此时仅有新的工作进程来处理请求。
kill -WINCH  8685



#通知旧版nginx从容关闭
kill  -QUIT  8685  #从容关闭旧版本nginx的主进程




#如果想继续使用旧版本nginx
kill  -HUP  8685   #不重载配置文件的情况下重新启动旧版本的nginx工作进程

kill  -QUIT  8843     #从容关闭新版本的nginx主进程
