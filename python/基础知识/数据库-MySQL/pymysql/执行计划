执行计划（explain），相对准确地统计当前SQL的运行情况

explain的结果显示的集中常见的type：

ALL   ------> 对数据表全表查询
index   ----> 对索引表全表潮汛
range   ----> 对索引进行了范围查找，但是要注意>和!=的时候type又会变成ALL
index_merge   --->应用了合并索引（同时用了多个索引）
REF  -----> 根据索引查找一个或多个值
EQ_REF ----> 查找用了primary key 或unique索引

const  ----> 常量，只有一行结果，   查询效果最好
system ----> 常量，const         查询效果最好


explain select * from class;

+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
|  1 | SIMPLE      | class | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   10 |   100.00 | NULL  |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+

type: ALL ----> 对数据表全表扫描


select nid from class;
+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |
+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
|  1 | SIMPLE      | class | NULL       | index | NULL          | PRIMARY | 4       | NULL |   10 |   100.00 | Using index |
+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
type: index ----> 对索引全表扫面

ALL 和 index是相对低效的查询


在迫不得已的时候，可以使用limit 1 来尝试减少查询量


explain select * from class where cid < 3;

+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |
+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
|  1 | SIMPLE      | class | NULL       | range | PRIMARY       | PRIMARY | 4       | NULL |    2 |   100.00 | Using where |
+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+-------------+

当type为range的时候，说明对索引进行了范围查询

##########  进行范围查找的时候，当查找条件为> 或者 != 的时候，不能应用索引 ############


